//@ui5-bundle cap/ui/fiori/Component-preload.js
jQuery.sap.registerPreloadedModules({
"version":"2.0",
"modules":{
	"cap/ui/fiori/Component.js":function(){sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","cap/ui/fiori/model/models","sap/ui/model/json/JSONModel"],function(e,t,i,o){"use strict";return e.extend("cap.ui.fiori.Component",{metadata:{manifest:"json"},init:function(){e.prototype.init.apply(this,arguments);var t=new o;this.setModel(t,"global");this.getModel().metadataLoaded().then(()=>this.setModel(i.createAnnotationsModel(this.getModel()),"annotations"));this.getRouter().initialize();this.setModel(i.createDeviceModel(),"device")}})});
},
	"cap/ui/fiori/controller/App.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller"],function(t){"use strict";return t.extend("cap.ui.fiori.controller.App",{onInit:function(){this.oRouter=this.getOwnerComponent().getRouter();this.oRouter.attachRoutePatternMatched(this.onRoutePatternMatched.bind(this))},onRoutePatternMatched:function(t){this._updateFlexLayoutStates(t.getParameter("name"))},_updateFlexLayoutStates:function(t){if(t==="RoutePoS_Main")this._setLayout("OneColumn");else if(t==="RoutePoS_Detail")this._setLayout("TwoColumnsMidExpanded")},_setLayout:function(t){var e=this.getOwnerComponent().getModel("global");e.setProperty("/layout",t)}})});
},
	"cap/ui/fiori/controller/PoS_Detail.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/viz/ui5/controls/common/feeds/FeedItem"],function(e,t,i,o,s){"use strict";return e.extend("cap.ui.fiori.controller.PoS_Detail",{onInit:function(){var e=new o;this.getView().setModel(e,"oChartModel");var t=new o;this.getView().setModel(t,"oPredictModel");var i=new o;this.getView().setModel(i,"oTrainModel");this.oRouter=this.getOwnerComponent().getRouter();this.oRouter.getRoute("RoutePoS_Detail").attachPatternMatched(this._onObjectMatched,this)},_onObjectMatched:async function(e){this._sPoSid=e.getParameter("arguments").pointofsale;await this._bindView(this._sPoSid);this.setVizChartProperties();this.fetchChartData(this._sPoSid);this.fetchPredictData(this._sPoSid);this.fetchTrainData(this._sPoSid)},_bindView:function(e){return new Promise(function(t){this.getView().bindElement({path:"/POINTS_OF_SALES/"+e,events:{change:t},refreshAfterChange:true})}.bind(this))},onCloseFlexibleColumn:function(){this.oRouter.navTo("RoutePoS_Main")},setVizChartProperties:function(){var e=this.getView().byId("priceOverTimeVizFrame");e.setVizProperties({title:{visible:false},plotArea:{dataLabel:{visible:false},window:{start:"firstDataPoint",end:"lastDataPoint"},primaryScale:{fixedRange:true,minValue:1.6,maxValue:2.4}}})},fetchChartData:function(e){this.getView().getModel().read("/History_Forecast",{filters:[new t("uuid",i.EQ,e)],success:function(e){this.getView().getModel("oChartModel").setProperty("/",e.results)}.bind(this),error:function(e){console.log(e)}})},onAfterRendering:function(){const e=this.getView().byId("priceOverTimeVizFrame");const t=this.getView().byId("idPopOver");t.connect(e.getVizUid())},displayPredictedData:function(){const e=this.getView().byId("priceOverTimeVizFrame");if(e.getFeeds().length>=3){e.removeFeed(2)}else{e.addFeed(new s({uid:"valueAxis",type:"Measure",values:["Predicted Price"]}))}},fetchPredictData:function(e){this.getView().getModel().read("/ModelHanaMlConsPalMassiveAdditiveModelAnalysis",{filters:[new t("group_id",i.EQ,e)],success:function(e){if(e.results.length>0)this.getView().getModel("oPredictModel").setProperty("/",JSON.parse(e.results[0].model_content))}.bind(this),error:function(e){console.log(e)}})},fetchTrainData:function(e){this.getView().getModel().read("/Output1PalMassiveAdditiveModelPredict",{filters:[new t("group_id",i.EQ,e)],success:function(e){debugger}.bind(this),error:function(e){console.log(e)}})}})});
},
	"cap/ui/fiori/controller/PoS_Main.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast"],function(e,t){"use strict";return e.extend("cap.ui.fiori.controller.PoS_Main",{onInit:function(){this.oRouter=this.getOwnerComponent().getRouter()},onListItemPress:function(e){var t=e.getSource().getSelectedItem().getBindingContext().getProperty("uuid");this.oRouter.navTo("RoutePoS_Detail",{pointofsale:t})},onPredict:async function(){await this._callFI("Prices_Predict");this._setBusyView(false)},onTrain:async function(){await this._callFI("Model_Train");this._setBusyView(false)},_setBusyView:function(e){this.getView().setBusy(e)},_callFI:function(e){return new Promise(function(i){this._setBusyView(true);this.getView().getModel().callFunction("/"+e,{success:function(n){var s=this.getView().getModel("i18n").getResourceBundle();if(n[e])t.show(s.getText("FiSucc",[s.getText(e)]));else t.show(s.getText("FiErr",[s.getText(e)]));i()}.bind(this)})}.bind(this))}})});
},
	"cap/ui/fiori/i18n/i18n.properties":'# This is the resource bundle for cap.ui.fiori\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=HANA ML UI Demo\n\n#YDES: Application description\nappDescription=A Fiori application.\n#XTIT: Main view title\ntitle=HANA ML UI Demo\n\nflpTitle=HANA ML Fiori\n\nflpSubtitle=\n\n\ndetailTitle=Station Details\ngeneralInfo=General Information\naddressDetails=Address Details\n\npriceDev=Price Development\nincpredict=Include Predictions\npastPrice=Past Price\npredictPrice=Predicted Price\ndate=Date\n\nmodelInfo=Model Analysis\n\npredInfo=Predict Analytics\ntrainInfo=Train Analytics\n\nPrices_Predict=Price Development Prediction Model\nModel_Train=Train Model\nFiSucc={0} Successfull Executed.\nFiErr={0} Error! Please Try Again.\n\nsigmaObs=Sigma Obs\ntScale=T Scale\nyScale=Y Scale',
	"cap/ui/fiori/manifest.json":'{"_version":"1.49.0","sap.app":{"id":"cap.ui.fiori","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.9.7","toolsId":"b479c832-122f-4856-bc0f-f1a941f0ac8b"},"dataSources":{"mainService":{"uri":"v2/catalog/","type":"OData","settings":{"annotations":[],"localUri":"localService/metadata.xml","odataVersion":"2.0"}}},"crossNavigation":{"inbounds":{"cap-ui-fiori-inbound":{"signature":{"parameters":{},"additionalParameters":"allowed"},"semanticObject":"hanamlui","action":"display","title":"{{flpTitle}}","subTitle":"{{flpSubtitle}}","icon":""}}}},"sap.cloud":{"public":true,"service":"cap_ml_mvp"},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":false,"dependencies":{"minUI5Version":"1.114.0","libs":{"sap.m":{},"sap.ui.core":{},"sap.f":{},"sap.suite.ui.generic.template":{},"sap.ui.comp":{},"sap.ui.generic.app":{},"sap.ui.table":{},"sap.ushell":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"cap.ui.fiori.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"synchronizationMode":"None","operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","async":true,"viewPath":"cap.ui.fiori.view","controlAggregation":"beginColumnPages","controlId":"fcl","clearControlAggregation":false,"transition":"slide"},"routes":[{"name":"RoutePoS_Main","pattern":"","target":["TargetPoS_Main"]},{"name":"RoutePoS_Detail","pattern":"PoS_Detail/{pointofsale}","target":["TargetPoS_Main","TargetPoS_Detail"]}],"targets":{"TargetPoS_Main":{"viewName":"PoS_Main","viewLevel":1,"controlAggregation":"beginColumnPages"},"TargetPoS_Detail":{"viewName":"PoS_Detail","viewLevel":2,"controlAggregation":"midColumnPages"}}},"rootView":{"viewName":"cap.ui.fiori.view.App","type":"XML","async":true,"id":"App"}}}',
	"cap/ui/fiori/model/formatter.js":function(){sap.ui.define([],function(){"use strict";return{formatDate:function(t){return new Date(t)}}});
},
	"cap/ui/fiori/model/models.js":function(){sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var t=new e(n);t.setDefaultBindingMode("OneWay");return t},createAnnotationsModel:function(n){return new e(n.getServiceAnnotations())}}});
},
	"cap/ui/fiori/view/App.view.xml":'<mvc:View controllerName="cap.ui.fiori.controller.App" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:mvc="sap.ui.core.mvc" displayBlock="true" xmlns="sap.m" xmlns:f="sap.f"><App id="app"><f:FlexibleColumnLayout autoFocus="false" id="fcl" stateChange="onStateChanged" restoreFocusOnBackNavigation="true" layout="{global>/layout}" backgroundDesign="Translucent"/></App></mvc:View>\n',
	"cap/ui/fiori/view/PoS_Detail.view.xml":'<mvc:View controllerName="cap.ui.fiori.controller.PoS_Detail" xmlns:mvc="sap.ui.core.mvc" displayBlock="true" xmlns="sap.m" xmlns:uxap="sap.uxap" xmlns:smartForm="sap.ui.comp.smartform" xmlns:smartField="sap.ui.comp.smartfield"\n    xmlns:viz="sap.viz.ui5.controls" xmlns:viz.data="sap.viz.ui5.data" xmlns:viz.feeds="sap.viz.ui5.controls.common.feeds" xmlns:chart="sap.suite.ui.commons" xmlns:layout="sap.ui.layout" xmlns:f="sap.ui.layout.form"><uxap:ObjectPageLayout id="ObjectPageLayout" upperCaseAnchorBar="false" ><uxap:headerTitle><uxap:ObjectPageHeader objectTitle="{name}"><uxap:actions><uxap:ObjectPageHeaderActionButton icon="sap-icon://decline" text="Close" importance="Low" tooltip="close" press="onCloseFlexibleColumn"/></uxap:actions></uxap:ObjectPageHeader></uxap:headerTitle><uxap:sections><uxap:ObjectPageSection titleUppercase="false" title="{i18n>generalInfo}"><uxap:subSections><uxap:ObjectPageSubSection titleUppercase="false"><uxap:blocks><smartForm:SmartForm editTogglable="false" editable="false"><smartForm:Group title="{i18n>generalInfo}"><smartForm:GroupElement><smartField:SmartField value="{name}" editable="false" /></smartForm:GroupElement><smartForm:GroupElement><smartField:SmartField value="{brand}" editable="false" /></smartForm:GroupElement></smartForm:Group><smartForm:Group title="{i18n>addressDetails}"><smartForm:GroupElement><smartField:SmartField value="{street}" editable="false" /></smartForm:GroupElement><smartForm:GroupElement><smartField:SmartField value="{house_number}" editable="false" /></smartForm:GroupElement><smartForm:GroupElement><smartField:SmartField value="{post_code}" editable="false" /></smartForm:GroupElement><smartForm:GroupElement><smartField:SmartField value="{city}" editable="false" /></smartForm:GroupElement></smartForm:Group></smartForm:SmartForm></uxap:blocks></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection><uxap:ObjectPageSection titleUppercase="false" title="{i18n>priceDev}"><uxap:subSections><uxap:ObjectPageSubSection titleUppercase="false"><uxap:blocks><chart:ChartContainer autoAdjustHeight="false" showFullScreen="true" ><chart:toolbar><OverflowToolbar width="100%"><ToolbarSpacer/><Label text="{i18n>incpredict}" /><Switch state="false" change=".displayPredictedData" customTextOn=" " customTextOff=" " /><chart:ChartContainerToolbarPlaceholder/></OverflowToolbar></chart:toolbar><chart:ChartContainerContent><chart:content><VBox><viz:Popover id="idPopOver"></viz:Popover><viz:VizFrame id="priceOverTimeVizFrame" uiConfig="{applicationSet:\'fiori\'}" width="100%" vizType="timeseries_line"><viz:dataset><viz.data:FlattenedDataset data="{oChartModel>/}"><viz.data:dimensions><viz.data:DimensionDefinition name="Date" value="{oChartModel>date}" dataType="date" /></viz.data:dimensions><viz.data:measures><viz.data:MeasureDefinition name="Past Price" value="{oChartModel>price_hist}" /><viz.data:MeasureDefinition name="Predicted Price" value="{oChartModel>price_fcst}" /></viz.data:measures></viz.data:FlattenedDataset></viz:dataset><viz:feeds><viz.feeds:FeedItem uid="valueAxis" type="Measure" values="Past Price" /><viz.feeds:FeedItem uid="timeAxis" type="Dimension" values="Date" /></viz:feeds></viz:VizFrame></VBox></chart:content></chart:ChartContainerContent></chart:ChartContainer></uxap:blocks></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection><uxap:ObjectPageSection titleUppercase="false" title="{i18n>modelInfo}"><uxap:subSections><uxap:ObjectPageSubSection title="{i18n>predInfo}" titleUppercase="false" class="sapUiSmallMarginTop"><uxap:blocks><f:SimpleForm editable="false" layout="ResponsiveGridLayout" title=""><f:content><Label text="{i18n>sigmaObs}" /><Text text="{oPredictModel>/sigma_obs}" /><Label text="{i18n>tScale}" /><Text text="{oPredictModel>/t_scale}" /><Label text="{i18n>yScale}" /><Text text="{oPredictModel>/y_scale}" /></f:content></f:SimpleForm></uxap:blocks></uxap:ObjectPageSubSection><uxap:ObjectPageSubSection title="{i18n>trainInfo}" titleUppercase="false"><uxap:blocks><Text text="Train Model Content Goes Here" /></uxap:blocks></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection></uxap:sections></uxap:ObjectPageLayout></mvc:View>',
	"cap/ui/fiori/view/PoS_Main.view.xml":'<mvc:View controllerName="cap.ui.fiori.controller.PoS_Main" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" height="100%" xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"\n    xmlns:smartTable="sap.ui.comp.smarttable"  xmlns:f="sap.f" xmlns:core="sap.ui.core" ><f:DynamicPage showFooter="true" preserveHeaderStateOnScroll="true"><f:title><f:DynamicPageTitle><f:heading><Title text="{i18n>title}"/></f:heading></f:DynamicPageTitle></f:title><f:header><f:DynamicPageHeader pinnable="true"><f:content><smartFilterBar:SmartFilterBar id="idMySmartFilter" entitySet="POINTS_OF_SALES" useToolbar="true" persistencyKey="persistencyKey_pos" ><smartFilterBar:controlConfiguration><smartFilterBar:ControlConfiguration key="name" label="Points of Sale" visibleInAdvancedArea="true"/></smartFilterBar:controlConfiguration></smartFilterBar:SmartFilterBar></f:content></f:DynamicPageHeader></f:header><f:content><smartTable:SmartTable id="idMySmartTable" entitySet="POINTS_OF_SALES" tableType="ResponsiveTable" demandPopin="true" header="Points of Sales" class="sapUiResponsiveContentPadding" enableAutoColumnWidth="false" showRowCount="true"\n\t\t\t\tenableAutoBinding="true" enableExport="true" useTablePersonalisation="true" useVariantManagement="true" persistencyKey="persistencyKey_post" smartFilterId="idMySmartFilter" requestAtLeastFields="uuid,name,city" ><smartTable:customToolbar><Toolbar><ToolbarSpacer/><Button type="Transparent" icon="sap-icon://business-objects-experience" text="Price Predict" press="onPredict" enabled="{= ${global>/layout} === \'OneColumn\' }"/><Button type="Transparent" icon="sap-icon://e-learning" text="Model Train" press="onTrain" enabled="{= ${global>/layout} === \'OneColumn\' }"/></Toolbar></smartTable:customToolbar><Table id="idMyTable" growing="true" growingScrollToLoad="true" growingThreshold="30" mode="SingleSelectMaster" itemPress="onListItemPress"><columns><Column hAlign="End"><customData><core:CustomData key="p13nData" value=\'\\{"columnKey": "city", "columnIndex":"1","leadingProperty": "city"}\' /></customData><Text text="{annotations>/propertyAnnotations/CatalogService.POINTS_OF_SALES/city/com.sap.vocabularies.Common.v1.Label/String}" /></Column></columns><items><ColumnListItem vAlign="Middle" type="Navigation"><cells><Text text="{city}" /></cells></ColumnListItem></items></Table></smartTable:SmartTable></f:content></f:DynamicPage></mvc:View>'
}});
